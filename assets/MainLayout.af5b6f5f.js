import{l as T,i as E,m as C,p as Y,c,h as p,n as A,g as R,q as k,t as le,w as y,o as ie,u as W,v as re,x as se,y as ue,z as ce,A as de,r as _,B as J,C as j,D as F,a as fe,E as X,G as ve,d as O,H as L,I as D,J as x,Q as K,K as Z,f as m,L as ee,M as I,N as H,O as he,F as ge,P as te,R as oe,S as P,U as me,V as pe,W as ye,X as _e,_ as be,Y as we}from"./index.1cf488ee.js";import{Q as N,a as xe,d as ze,L as qe}from"./dialogoBuscadorLugar.59585dc2.js";import{Q as ae}from"./QImg.2a6b0e0b.js";import{Q as Se}from"./QMenu.da83762f.js";import{b as $e,c as Qe}from"./axios.b375b2b4.js";import{d as Le,Q as Ce}from"./dialogoResultadosNominatim.896c3644.js";var Ve=T({name:"QPageContainer",setup(e,{slots:r}){const{proxy:{$q:l}}=R(),o=E(k,C);if(o===C)return console.error("QPageContainer needs to be child of QLayout"),C;Y(le,!0);const t=c(()=>{const s={};return o.header.space===!0&&(s.paddingTop=`${o.header.size}px`),o.right.space===!0&&(s[`padding${l.lang.rtl===!0?"Left":"Right"}`]=`${o.right.size}px`),o.footer.space===!0&&(s.paddingBottom=`${o.footer.size}px`),o.left.space===!0&&(s[`padding${l.lang.rtl===!0?"Right":"Left"}`]=`${o.left.size}px`),s});return()=>p("div",{class:"q-page-container",style:t.value},A(r.default))}});const{passive:G}=ue,Be=["both","horizontal","vertical"];var Te=T({name:"QScrollObserver",props:{axis:{type:String,validator:e=>Be.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:{default:void 0}},emits:["scroll"],setup(e,{emit:r}){const l={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let o=null,t,s;y(()=>e.scrollTarget,()=>{g(),f()});function u(){o!==null&&o();const q=Math.max(0,ce(t)),$=de(t),d={top:q-l.position.top,left:$-l.position.left};if(e.axis==="vertical"&&d.top===0||e.axis==="horizontal"&&d.left===0)return;const z=Math.abs(d.top)>=Math.abs(d.left)?d.top<0?"up":"down":d.left<0?"left":"right";l.position={top:q,left:$},l.directionChanged=l.direction!==z,l.delta=d,l.directionChanged===!0&&(l.direction=z,l.inflectionPoint=l.position),r("scroll",{...l})}function f(){t=se(s,e.scrollTarget),t.addEventListener("scroll",v,G),v(!0)}function g(){t!==void 0&&(t.removeEventListener("scroll",v,G),t=void 0)}function v(q){if(q===!0||e.debounce===0||e.debounce==="0")u();else if(o===null){const[$,d]=e.debounce?[setTimeout(u,e.debounce),clearTimeout]:[requestAnimationFrame(u),cancelAnimationFrame];o=()=>{d($),o=null}}}const{proxy:S}=R();return y(()=>S.$q.lang.rtl,u),ie(()=>{s=S.$el.parentNode,f()}),W(()=>{o!==null&&o(),g()}),Object.assign(S,{trigger:v,getPosition:()=>l}),re}}),He=T({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:r,emit:l}){const{proxy:{$q:o}}=R(),t=_(null),s=_(o.screen.height),u=_(e.container===!0?0:o.screen.width),f=_({position:0,direction:"down",inflectionPoint:0}),g=_(0),v=_(J.value===!0?0:j()),S=c(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),q=c(()=>e.container===!1?{minHeight:o.screen.height+"px"}:null),$=c(()=>v.value!==0?{[o.lang.rtl===!0?"left":"right"]:`${v.value}px`}:null),d=c(()=>v.value!==0?{[o.lang.rtl===!0?"right":"left"]:0,[o.lang.rtl===!0?"left":"right"]:`-${v.value}px`,width:`calc(100% + ${v.value}px)`}:null);function z(i){if(e.container===!0||document.qScrollPrevented!==!0){const a={position:i.position.top,direction:i.direction,directionChanged:i.directionChanged,inflectionPoint:i.inflectionPoint.top,delta:i.delta.top};f.value=a,e.onScroll!==void 0&&l("scroll",a)}}function b(i){const{height:a,width:h}=i;let B=!1;s.value!==a&&(B=!0,s.value=a,e.onScrollHeight!==void 0&&l("scrollHeight",a),V()),u.value!==h&&(B=!0,u.value=h),B===!0&&e.onResize!==void 0&&l("resize",i)}function Q({height:i}){g.value!==i&&(g.value=i,V())}function V(){if(e.container===!0){const i=s.value>g.value?j():0;v.value!==i&&(v.value=i)}}let n=null;const w={instances:{},view:c(()=>e.view),isContainer:c(()=>e.container),rootRef:t,height:s,containerHeight:g,scrollbarWidth:v,totalWidth:c(()=>u.value+v.value),rows:c(()=>{const i=e.view.toLowerCase().split(" ");return{top:i[0].split(""),middle:i[1].split(""),bottom:i[2].split("")}}),header:F({size:0,offset:0,space:!1}),right:F({size:300,offset:0,space:!1}),footer:F({size:0,offset:0,space:!1}),left:F({size:300,offset:0,space:!1}),scroll:f,animate(){n!==null?clearTimeout(n):document.body.classList.add("q-body--layout-animate"),n=setTimeout(()=>{n=null,document.body.classList.remove("q-body--layout-animate")},155)},update(i,a,h){w[i][a]=h}};if(Y(k,w),j()>0){let h=function(){i=null,a.classList.remove("hide-scrollbar")},B=function(){if(i===null){if(a.scrollHeight>o.screen.height)return;a.classList.add("hide-scrollbar")}else clearTimeout(i);i=setTimeout(h,300)},M=function(U){i!==null&&U==="remove"&&(clearTimeout(i),h()),window[`${U}EventListener`]("resize",B)},i=null;const a=document.body;y(()=>e.container!==!0?"add":"remove",M),e.container!==!0&&M("add"),fe(()=>{M("remove")})}return()=>{const i=X(r.default,[p(Te,{onScroll:z}),p(N,{onResize:b})]),a=p("div",{class:S.value,style:q.value,ref:e.container===!0?void 0:t,tabindex:-1},i);return e.container===!0?p("div",{class:"q-layout-container overflow-hidden",ref:t},[p(N,{onResize:Q}),p("div",{class:"absolute-full",style:$.value},[p("div",{class:"scroll",style:d.value},[a])])]):a}}}),ne=T({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:r}){const l=c(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>p("div",{class:l.value,role:"toolbar"},A(r.default))}}),Re=T({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:r,emit:l}){const{proxy:{$q:o}}=R(),t=E(k,C);if(t===C)return console.error("QHeader needs to be child of QLayout"),C;const s=_(parseInt(e.heightHint,10)),u=_(!0),f=c(()=>e.reveal===!0||t.view.value.indexOf("H")>-1||o.platform.is.ios&&t.isContainer.value===!0),g=c(()=>{if(e.modelValue!==!0)return 0;if(f.value===!0)return u.value===!0?s.value:0;const n=s.value-t.scroll.value.position;return n>0?n:0}),v=c(()=>e.modelValue!==!0||f.value===!0&&u.value!==!0),S=c(()=>e.modelValue===!0&&v.value===!0&&e.reveal===!0),q=c(()=>"q-header q-layout__section--marginal "+(f.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(v.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),$=c(()=>{const n=t.rows.value.top,w={};return n[0]==="l"&&t.left.space===!0&&(w[o.lang.rtl===!0?"right":"left"]=`${t.left.size}px`),n[2]==="r"&&t.right.space===!0&&(w[o.lang.rtl===!0?"left":"right"]=`${t.right.size}px`),w});function d(n,w){t.update("header",n,w)}function z(n,w){n.value!==w&&(n.value=w)}function b({height:n}){z(s,n),d("size",n)}function Q(n){S.value===!0&&z(u,!0),l("focusin",n)}y(()=>e.modelValue,n=>{d("space",n),z(u,!0),t.animate()}),y(g,n=>{d("offset",n)}),y(()=>e.reveal,n=>{n===!1&&z(u,e.modelValue)}),y(u,n=>{t.animate(),l("reveal",n)}),y(t.scroll,n=>{e.reveal===!0&&z(u,n.direction==="up"||n.position<=e.revealOffset||n.position-n.inflectionPoint<100)});const V={};return t.instances.header=V,e.modelValue===!0&&d("size",s.value),d("space",e.modelValue),d("offset",g.value),W(()=>{t.instances.header===V&&(t.instances.header=void 0,d("size",0),d("offset",0),d("space",!1))}),()=>{const n=ve(r.default,[]);return e.elevated===!0&&n.push(p("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),n.push(p(N,{debounce:0,onResize:b})),p("header",{class:q.value,style:$.value,onFocusin:Q},n)}}});const Fe={class:"row wrap justify-start q-pa-xs",style:{width:"auto","max-width":"380px"}},Pe={key:0},Ne={key:1},ke={style:{"font-size":"15px","line-height":"1.2"},class:"text-weight-regular q-mt-sm"},Oe=O({__name:"BotonApps",setup(e){const r=_([]);return $e.get("base/aplicacion-sistema-sitio-web/").then(l=>{r.value=l.data.map(o=>({id:o.id,url:o.url,icono:o.icono,titulo:o.titulo,hits:o.hits,icono_mdi:o.icono_mdi,color:o.color}))}).catch(()=>{r.value=[]}),(l,o)=>r.value.length>0?(L(),D(K,{key:0,round:"",dense:"",flat:"","text-color":"grey-7",icon:"apps",class:"relative-position"},{default:x(()=>[m(xe,{delay:3e3},{default:x(()=>[ee("Aplicaciones")]),_:1}),m(Se,{anchor:"top middle",self:"bottom middle",class:"z-top","transition-show":"jump-down","transition-hide":"jump-up"},{default:x(()=>[I("div",Fe,[(L(!0),H(ge,null,he(r.value,(t,s)=>(L(),H("div",{class:"col-4 q-pa-xs text-center",key:s},[m(K,{square:"",flat:"",color:"grey-7",stack:"","no-caps":"",size:"xl",class:"full-width",style:{"min-height":"90px"},type:"a",href:t.url},{default:x(()=>[t.icono?(L(),H("div",Pe,[m(ae,{src:t.icono,alt:t.titulo,ratio:"1",width:"40px",fit:"contain"},null,8,["src","alt"])])):(L(),H("div",Ne,[m(te,{size:"40px",name:t.icono_mdi,color:t.color},null,8,["name","color"])])),I("span",ke,oe(t.titulo),1)]),_:2},1032,["href"])]))),128))])]),_:1})]),_:1})):Z("",!0)}}),De={class:"full-width"},Me=O({__name:"ComponenteSearch",setup(e){const r=_(""),l=_(!1),o=ze(),t=Le(),s=qe(),u=async()=>{s.showOverlay=!1;try{const f=await Qe.get(`https://nominatim.openstreetmap.org/search?q=${r.value}&format=json&polygon_geojson`);f.data.length>0?(l.value=!0,t.setDataNominatim(f)):(o.setDireccion(r.value),o.setShowDialogo(!0))}catch(f){o.setDireccion(r.value),o.setShowDialogo(!0),console.log(f)}};return(f,g)=>(L(),D(Ce,{style:P(f.$q.screen.xs?null:f.$q.screen.sm?{width:"38%",marginRigth:"14px"}:f.$q.screen.md?{width:"38%",marginRigth:"14px"}:f.$q.screen.lg?{width:"34%",marginRigth:"14px"}:{width:"23%",marginRigth:"14px"}),onSubmit:me(u,["prevent"])},{default:x(()=>[I("div",De,[m(pe,{"input-style":"font-size: 14px; padding: 15px 10px;",dense:"","prepend-icon":"search",rounded:"",outlined:"",modelValue:r.value,"onUpdate:modelValue":g[0]||(g[0]=v=>r.value=v)},{append:x(()=>[m(te,{name:"search",onClick:u,class:"cursor-pointer"})]),_:1},8,["modelValue"])])]),_:1},8,["style"]))}});const je={key:0,class:"flex justify-end full-width"},Ie=O({__name:"NavBar",setup(e){const r=ye();return console.log(r.fullPath),(l,o)=>(L(),D(Re,{class:"bg-white",style:P(l.$q.screen.lt.md?"height: 60px;":"height: 65px;")},{default:x(()=>[m(ne,{class:"q-py-none justify-between",style:P(l.$q.screen.lt.md?"height: 60px;":"height: 65px;")},{default:x(()=>[_e(r).fullPath!=="/arboles-decisiones"?(L(),H("div",je,[m(Me)])):Z("",!0),m(Oe)]),_:1},8,["style"])]),_:1},8,["style"]))}});var Ee=T({name:"QToolbarTitle",props:{shrink:Boolean},setup(e,{slots:r}){const l=c(()=>"q-toolbar__title ellipsis"+(e.shrink===!0?" col-shrink":""));return()=>p("div",{class:l.value},A(r.default))}}),Ae=T({name:"QFooter",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:r,emit:l}){const{proxy:{$q:o}}=R(),t=E(k,C);if(t===C)return console.error("QFooter needs to be child of QLayout"),C;const s=_(parseInt(e.heightHint,10)),u=_(!0),f=_(J.value===!0||t.isContainer.value===!0?0:window.innerHeight),g=c(()=>e.reveal===!0||t.view.value.indexOf("F")>-1||o.platform.is.ios&&t.isContainer.value===!0),v=c(()=>t.isContainer.value===!0?t.containerHeight.value:f.value),S=c(()=>{if(e.modelValue!==!0)return 0;if(g.value===!0)return u.value===!0?s.value:0;const a=t.scroll.value.position+v.value+s.value-t.height.value;return a>0?a:0}),q=c(()=>e.modelValue!==!0||g.value===!0&&u.value!==!0),$=c(()=>e.modelValue===!0&&q.value===!0&&e.reveal===!0),d=c(()=>"q-footer q-layout__section--marginal "+(g.value===!0?"fixed":"absolute")+"-bottom"+(e.bordered===!0?" q-footer--bordered":"")+(q.value===!0?" q-footer--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus"+(g.value!==!0?" hidden":""):"")),z=c(()=>{const a=t.rows.value.bottom,h={};return a[0]==="l"&&t.left.space===!0&&(h[o.lang.rtl===!0?"right":"left"]=`${t.left.size}px`),a[2]==="r"&&t.right.space===!0&&(h[o.lang.rtl===!0?"left":"right"]=`${t.right.size}px`),h});function b(a,h){t.update("footer",a,h)}function Q(a,h){a.value!==h&&(a.value=h)}function V({height:a}){Q(s,a),b("size",a)}function n(){if(e.reveal!==!0)return;const{direction:a,position:h,inflectionPoint:B}=t.scroll.value;Q(u,a==="up"||h-B<100||t.height.value-v.value-h-s.value<300)}function w(a){$.value===!0&&Q(u,!0),l("focusin",a)}y(()=>e.modelValue,a=>{b("space",a),Q(u,!0),t.animate()}),y(S,a=>{b("offset",a)}),y(()=>e.reveal,a=>{a===!1&&Q(u,e.modelValue)}),y(u,a=>{t.animate(),l("reveal",a)}),y([s,t.scroll,t.height],n),y(()=>o.screen.height,a=>{t.isContainer.value!==!0&&Q(f,a)});const i={};return t.instances.footer=i,e.modelValue===!0&&b("size",s.value),b("space",e.modelValue),b("offset",S.value),W(()=>{t.instances.footer===i&&(t.instances.footer=void 0,b("size",0),b("offset",0),b("space",!1))}),()=>{const a=X(r.default,[p(N,{debounce:0,onResize:V})]);return e.elevated===!0&&a.push(p("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),p("footer",{class:d.value,style:z.value,onFocusin:w},a)}}});const We={};function Ue(e,r){return L(),H("div",null,[m(Ae,{class:"footer bg-white"},{default:x(()=>[m(ne,{class:"full-height"},{default:x(()=>[m(Ee,{class:"text-black toolbar-title",style:{"font-size":"13px","text-align":"center"}},{default:x(()=>[m(ae,{src:"https://mty-microwebapps.web.app/img/sig/mty_sig_logo_iso_200.png",style:{flex:"none",width:"25px",height:"18px"}}),ee(" Secretaria de Innovaci\xF3n y Gobierno Abierto "+oe(new Date().getFullYear()),1)]),_:1})]),_:1})]),_:1})])}var Ke=be(We,[["render",Ue],["__scopeId","data-v-77575ab7"]]);const tt=O({__name:"MainLayout",setup(e){return(r,l)=>{const o=we("router-view");return L(),D(He,{class:"contenido",view:"lHh Lpr lFf"},{default:x(()=>[m(Ie),m(Ve,{style:P(r.$q.screen.xs?{height:"calc(93vh)"}:{height:"calc(100vh)"})},{default:x(()=>[m(o)]),_:1},8,["style"]),m(Ke)]),_:1})}}});export{tt as default};
